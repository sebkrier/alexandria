{#
  Badge Component - EXACT match to frontend/src/components/ui/Badge.tsx

  Props:
    text: string - the badge content
    color: string|none - hex color like "#8B5CF6"
    variant: "solid"|"outline" - default "solid"
    size: "sm"|"md" - default "sm"
#}

{% macro badge(text, color=none, variant="solid", size="sm") %}
{# Base classes from Badge.tsx line 15 #}
{% set base = "inline-flex items-center font-medium rounded-full" %}

{# Size classes from Badge.tsx lines 17-20 #}
{% if size == "md" %}
{% set size_class = "px-2.5 py-1 text-sm" %}
{% else %}
{% set size_class = "px-2 py-0.5 text-xs" %}
{% endif %}

{# Variant classes from Badge.tsx lines 22-25 (used when no color) #}
{% if variant == "outline" %}
{% set variant_class = "border border-dark-border text-dark-muted" %}
{% else %}
{% set variant_class = "bg-dark-hover text-dark-text" %}
{% endif %}

{# Badge.tsx lines 27-29: style when color is provided #}
{% if color %}
{# For solid: use color-mix for 20% opacity background (more compatible than 8-digit hex) #}
{# For outline: add border class so border-color is visible #}
<span class="{{ base }} {{ size_class }}{% if variant == 'outline' %} border{% endif %}" style="background-color: {% if variant == 'solid' %}color-mix(in srgb, {{ color }} 20%, transparent){% else %}transparent{% endif %}; color: {{ color }}; border-color: {{ color }};">{{ text }}</span>
{% else %}
<span class="{{ base }} {{ size_class }} {{ variant_class }}">{{ text }}</span>
{% endif %}
{% endmacro %}


{#
  MediaTypeBadge Component - EXACT match to frontend/src/components/ui/MediaTypeBadge.tsx

  Props:
    media_type: "article"|"paper"|"video"|"blog"|"pdf"|"newsletter"
    class: additional classes (optional)
#}

{% macro media_type_badge(media_type, class="") %}
{% from 'components/icons.html' import file_text, graduation_cap, play_circle, pen_line, file_down, mail %}

{# MediaTypeBadge.tsx lines 70-77: container classes #}
{# "inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium" + bgColor + textColor #}

{% if media_type == "paper" %}
{# line 34-38 #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400 {{ class }}">{{ graduation_cap("w-3 h-3") }}<span>Paper</span></span>
{% elif media_type == "video" %}
{# line 39-43 #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-500/20 text-red-400 {{ class }}">{{ play_circle("w-3 h-3") }}<span>Video</span></span>
{% elif media_type == "blog" %}
{# line 44-48 #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-400 {{ class }}">{{ pen_line("w-3 h-3") }}<span>Blog</span></span>
{% elif media_type == "pdf" %}
{# line 49-53 #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 {{ class }}">{{ file_down("w-3 h-3") }}<span>PDF</span></span>
{% elif media_type == "newsletter" %}
{# line 54-58 #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-purple-500/20 text-purple-400 {{ class }}">{{ mail("w-3 h-3") }}<span>Newsletter</span></span>
{% else %}
{# line 28-33: article (default) #}
<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-gray-500/20 text-gray-400 {{ class }}">{{ file_text("w-3 h-3") }}<span>Article</span></span>
{% endif %}
{% endmacro %}
