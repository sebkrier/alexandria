{#
  Sidebar Colors Partial - for OOB swaps when colors change

  Expected context:
    - colors: list of color dicts with id, name, hex_value
    - selected_color_id: currently selected color (optional)
#}

<div id="sidebar-colors" class="mt-6">
    {% if colors and colors|length > 0 %}
    <div class="flex items-center justify-between mb-2 px-3">
        <span class="text-xs font-semibold text-dark-muted uppercase tracking-wider">
            Colors
        </span>
    </div>
    <div class="space-y-0.5">
        {% for color in colors %}
        {% set is_color_selected = selected_color_id == color.id %}
        <button
            hx-get="/app/articles?color_id={{ color.id }}"
            hx-target="#articles-container"
            hx-push-url="true"
            class="w-full flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg transition-colors {% if is_color_selected %}bg-article-blue/20 text-article-blue{% else %}text-dark-muted hover:text-dark-text hover:bg-dark-hover{% endif %}"
        >
            <div
                class="w-4 h-4 rounded-full"
                style="background-color: {{ color.hex_value }};"
            ></div>
            <span class="flex-1 text-left truncate">{{ color.name }}</span>
        </button>
        {% endfor %}
    </div>
    {% endif %}
</div>
