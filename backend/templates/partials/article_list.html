{#
  Article List Partial

  Expected context:
    - articles: list of article dicts
    - view_mode: "grid" or "list" (default: "grid")
    - total: total number of articles
    - page: current page number
    - page_size: number of items per page
    - total_pages: total number of pages
    - search: current search query (optional)
    - selected_article_ids: set of selected article IDs (optional)
#}

{% set view_mode = view_mode|default('grid') %}
{% set selected_article_ids = selected_article_ids|default([]) %}

{# Empty state #}
{% if not articles %}
<div class="flex flex-col items-center justify-center py-16 text-center">
    <svg class="w-16 h-16 text-dark-muted mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
    </svg>
    <h3 class="text-lg font-medium text-white mb-2">No articles found</h3>
    {% if search %}
    <p class="text-dark-muted mb-4">No articles match "{{ search }}"</p>
    <a href="/app/" class="text-article-blue hover:underline">Clear search</a>
    {% else %}
    <p class="text-dark-muted">Add your first article to get started</p>
    {% endif %}
</div>

{% else %}

{# Article grid/list #}
{% if view_mode == 'list' %}
<div class="space-y-3" id="article-list">
    {% for article in articles %}
    {% include 'partials/article_card.html' with context %}
    {% endfor %}
</div>
{% else %}
<div class="grid grid-cols-1 lg:grid-cols-2 gap-4" id="article-list">
    {% for article in articles %}
    {% include 'partials/article_card.html' with context %}
    {% endfor %}
</div>
{% endif %}

{# Article count #}
{% if total > 0 %}
<div class="mt-6 text-sm text-dark-muted">
    <span>{{ total }} article{% if total != 1 %}s{% endif %}</span>
</div>
{% endif %}

{% endif %}
